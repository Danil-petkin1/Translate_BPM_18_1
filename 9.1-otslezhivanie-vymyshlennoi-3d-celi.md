# 9.1 Отслеживание вымышленной 3D цели

Прежде чем беспокоиться об отслеживании реального объекта с помощью реальной камеры, давайте создадим узел, который опубликует сообщение с `PoseStamped`, имитирующее движущийся объект, чтобы сначала протестировать отслеживание с воображаемой мишенью.

Скрипт на Python `pub_3d_target.py`, найденный в каталоге `rbx2_utils/nodes`, выполняет этот трюк. Этот узел просто публикует изменяющееся по времени сообщение `PoseStamped`, где координаты точки x, y и z изменяются синусоидально. Конечно, вы можете изменить скрипт или создать свой собственный для генерации различных движений целевой точки. Сценарий также публикует визуализационный маркер для указания местоположения цели, чтобы мы могли видеть его в `RViz`. 

Давайте попробуем это, используя фальшивую версию Pi Robot:

```text
$ roslaunch rbx2_bringup pi_robot_with_gripper.launch sim:=true
```

Затем запустите `RViz` с помощью конфигурационного файла `fake_target.rviz`, который настроен на отображение 3D метки:

```text
$ rosrun rviz rviz -d `rospack find rbx2_utils`/fake_target.rviz
```

Теперь запустите узел `pub_3d_target.py`:

```text
$ roslaunch rbx2_utils pub_3d_target.launch
```

Вы должны увидеть желтую сферу, движущуюся в `RViz` перед роботом.   
Наконец, запустите узел `head_tracker.py` в искусственном режиме \(sim:=true\):

```text
$ roslaunch rbx2_dynamixels head_tracker.launch sim:=true
```

Возвращаясь в `RViz`, вы должны увидеть движение желтой сферы. Вы можете изменить способ перемещения сферы, используя `rqt_reconfigure`:

```text
$ rosrun rqt_reconfigure rqt_reconfigure
```

![](.gitbook/assets/image%20%284%29.png)

Например, установка значения параметра `move_target_rate` в значение 1 и `speed` в 2.0 приведет к тому, что сфера будет перепрыгивать через большие промежутки вместо того, чтобы плавно перемещаться между ними.

