# 8.2 Тестирование mux с фальшивым TurtleBot

Чтобы попробовать все на практике, сначала запустите фальшивый TurtleBot, как мы делали это в первом томе: 

`$ roslaunch rbx1_bringup fake_turtlebot.launch`

 Далее запустите файл запуска `mux_fake_move_base_blank_map.install.` Этот файл включает в себя `mux_fake_move_base.launch` файл, описанный выше, но также выводит пустую карту:

`$ roslaunch rbx2_nav mux_fake_move_base_blank_map.launch` 

Если предположить, что у вас есть джойстик, прикрепленный к компьютеру, воспользуйтесь `mux` джойстиком-узлом:  
  
`$ roslaunch rbx2_nav mux_joystick_teleop.launch`  
  
 И, наконец, выведите `RViz` с подходящим конфигурационным файлом  
  
 `$ rsrun rviz rviz -d rospack find rbx2_nav/config/nav.rviz`

Первое, что вы заметите, это то, что фальшивый TurtleBot не реагирует ни на вход управления - ни на джойстик, ни на установку 2D Nav целей в `RViz`. Это связано с тем, что базовый контроллер ArbotiX, который мы используем для фальшивого TurtleBot, прослушивает в теме `/cmd_vel` сообщения `Twist`, но все наши входы управления публикуются на своих собственных темах. Так что теперь давайте запустим mux-узел, описанный ранее:  


```cpp
$ rosrun topic_tools mux cmd_vel move_base_cmd_vel joystick_cmd_vel
mux:=mux_cmd_vel
```

И вы должны увидеть сообщение:

`[ INFO] [1395796224.736609630]: advertising`  
  
на терминале. Так как первая входная тема, указанная в командной строке mux выше, это `move_base_cmd_vel`, и поскольку это тема, которая используется в нашем файле `mux_fake_move_base.launch`, то теперь мы можем управлять фальшивым TurtleBot, устанавливая 2D навигационные цели в `RViz` с помощью мыши. Однако на данный момент джойстик не должен оказывать никакого влияния на движение робота. Давайте перейдем к следующему вопросу.



